# [PROJECT]-LESS-[NN]: [LESSON_NAME]

**REF-ID:** [PROJECT]-LESS-[NN]  
**Version:** 1.0.0  
**Category:** NMP03 - Lessons  
**Type:** Lesson / Bug / Wisdom  
**Status:** ‚úÖ Active / üì¶ Archived  
**Created:** [YYYY-MM-DD]  
**Last Updated:** [YYYY-MM-DD]

---

## üìã LESSON SUMMARY

**One-Line Description:**  
[Single sentence capturing what was learned]

**Severity:** üî¥ Critical / üü° Important / üü¢ Advisory

**Category:** [Core Architecture / Performance / Operations / Documentation / Security / etc.]

**Cost of Not Knowing:** [Time / Money / Performance impact if lesson is ignored]

**Tags:** [tag1, tag2, tag3, tag4]

---

## üéØ THE LESSON

### What We Learned

**Simple Statement:**
[Clear, memorable statement of the lesson - think "fortune cookie" brevity]

**Detailed Explanation:**
[2-3 paragraphs explaining the lesson in detail]

### Why This Matters

**Technical Impact:**
- [Impact on code quality]
- [Impact on performance]
- [Impact on reliability]

**Operational Impact:**
- [Impact on deployment]
- [Impact on maintenance]
- [Impact on debugging]

**Business Impact:**
- [Impact on development velocity]
- [Impact on costs]
- [Impact on user experience]

---

## üìñ THE STORY

### Context

**When This Happened:** [YYYY-MM-DD or timeframe]

**Project State:**
- Version: [X.Y.Z]
- Team Size: [N people]
- Project Age: [Duration]
- Complexity: [Low/Medium/High]

**What We Were Trying to Do:**
[Description of the goal or feature being worked on]

### The Incident / Discovery

**What Happened:**
[Narrative of the event - be specific and detailed]

**Initial Symptoms:**
1. [Symptom 1]
2. [Symptom 2]
3. [Symptom 3]

**Investigation Process:**
[How the root cause was discovered - tools used, approaches tried]

**Root Cause:**
[The underlying reason this happened]

### The Resolution

**What We Did:**
[Description of how it was fixed]

**Time to Resolution:** [Duration]

**Effort Required:** [Person-hours or team-days]

---

## üí∞ THE COST

### Measured Impact

**Time Lost:**
- Investigation: [Hours/Days]
- Implementation: [Hours/Days]
- Testing: [Hours/Days]
- Deployment: [Hours/Days]
- **Total:** [Hours/Days]

**Performance Impact:**
- Before Fix: [Metrics]
- After Fix: [Metrics]
- **Improvement:** [Percentage or absolute]

**Resource Impact:**
- Memory: [Change in usage]
- CPU: [Change in usage]
- Network: [Change in usage]

### Opportunity Cost

**Features Delayed:**
[What else could have been done with that time]

**Team Impact:**
- Morale: [Effect on team]
- Velocity: [Effect on productivity]
- Learning: [Time spent on unplanned learning]

---

## ‚úÖ THE SOLUTION

### Immediate Fix

**What Was Changed:**
```[language]
# The fix that was applied
[code showing the solution]
```

**Why This Works:**
[Explanation of how this addresses the root cause]

### Long-term Prevention

**Pattern to Follow:**
```[language]
# The pattern that prevents recurrence
[code showing the preventive pattern]
```

**Checklist for Future Work:**
- ‚òë [Check 1]
- ‚òë [Check 2]
- ‚òë [Check 3]
- ‚òë [Check 4]

### New Constraint Created

**Constraint:** [PROJECT]-CONS-[NN] (if created)  
**Statement:** [Brief constraint statement]  
**Enforcement:** [How it's enforced - linting, code review, testing]

---

## üö´ ANTI-PATTERNS IDENTIFIED

### Anti-Pattern 1: [PATTERN_NAME]

**What Not to Do:**
```[language]
# WRONG - The anti-pattern
[code showing what to avoid]
```

**Why It's Wrong:**
[Explanation of the problem]

**Correct Approach:**
```[language]
# CORRECT - The right way
[code showing the solution]
```

---

### Anti-Pattern 2: [PATTERN_NAME]

**What Not to Do:**
```[language]
# WRONG - The anti-pattern
[code showing what to avoid]
```

**Why It's Wrong:**
[Explanation of the problem]

**Correct Approach:**
```[language]
# CORRECT - The right way
[code showing the solution]
```

---

## üîç DETECTION & PREVENTION

### How to Detect This Issue

**Automated Detection:**
```[language/tool]
# Test or check that detects this problem
[code for detection]
```

**Manual Inspection Signs:**
1. [Warning sign 1]
2. [Warning sign 2]
3. [Warning sign 3]

**Metrics to Monitor:**
- **[METRIC_NAME]**: Alert if [condition]
- **[METRIC_NAME]**: Alert if [condition]

### How to Prevent This Issue

**Development Phase:**
1. [Prevention step 1]
2. [Prevention step 2]
3. [Prevention step 3]

**Code Review Checklist:**
- ‚òë [Review check 1]
- ‚òë [Review check 2]
- ‚òë [Review check 3]

**Testing Requirements:**
- [Test type 1]: [What to verify]
- [Test type 2]: [What to verify]

---

## üí° KEY TAKEAWAYS

### For Developers

1. **[TAKEAWAY_1]**
   - [Explanation]
   - [When to apply]

2. **[TAKEAWAY_2]**
   - [Explanation]
   - [When to apply]

3. **[TAKEAWAY_3]**
   - [Explanation]
   - [When to apply]

### For Architects

1. **[TAKEAWAY_1]**
   - [Implication for design]
   - [Pattern to consider]

2. **[TAKEAWAY_2]**
   - [Implication for design]
   - [Pattern to consider]

### For Operators

1. **[TAKEAWAY_1]**
   - [Monitoring consideration]
   - [Alert to set up]

2. **[TAKEAWAY_2]**
   - [Monitoring consideration]
   - [Alert to set up]

---

## üß™ VALIDATION

### How We Validated the Fix

**Testing Approach:**
```[language]
# Test that validates the fix
[test code]
```

**Test Results:**
- Before: [Failure case]
- After: [Success case]
- **Verification:** ‚úÖ Passed

### Production Validation

**Metrics Tracked:**
1. [Metric]: [Before] ‚Üí [After]
2. [Metric]: [Before] ‚Üí [After]
3. [Metric]: [Before] ‚Üí [After]

**Duration Monitored:** [Time period]

**Result:** ‚úÖ Stable / ‚ö†Ô∏è Needs more observation

---

## üîó RELATIONSHIPS

### Created From This Lesson
- **[CONS-ID]**: [Constraint created to prevent this]
- **[DEC-ID]**: [Decision made based on this lesson]

### Related Lessons
- **[LESS-ID]**: [How they relate]
- **[BUG-ID]**: [Similar issue]

### Affects Combinations
- **[COMB-ID]**: [How this lesson impacts this combination]

### Informed Decisions
- **[DEC-ID]**: [Decision influenced by this lesson]

---

## üìä IMPACT METRICS

### Before vs After

| Metric | Before | After | Improvement |
|--------|--------|-------|-------------|
| [Metric 1] | [Value] | [Value] | [%] |
| [Metric 2] | [Value] | [Value] | [%] |
| [Metric 3] | [Value] | [Value] | [%] |

### Long-term Impact

**3 Months Later:**
- [Observation 1]
- [Observation 2]

**6 Months Later:**
- [Observation 1]
- [Observation 2]

**1 Year Later:**
- [Observation 1]
- [Observation 2]

---

## üéì EDUCATIONAL VALUE

### Who Should Read This

**Essential For:**
- [Role 1]: [Why]
- [Role 2]: [Why]

**Recommended For:**
- [Role 3]: [Why]
- [Role 4]: [Why]

### Related Training

**Workshops:**
- [Workshop name]: [How this lesson is covered]

**Documentation:**
- [Doc name]: [Where this is referenced]

### Knowledge Transfer

**Onboarding:**
[How this lesson is shared with new team members]

**Best Practices:**
[How this has become part of team practices]

---

## üíª CODE EXAMPLES

### Example 1: [SCENARIO_NAME]

**Before (Problem):**
```[language]
# Code demonstrating the problem
[problematic code]
```

**After (Solution):**
```[language]
# Code showing the fix
[corrected code]
```

**Key Differences:**
1. [Difference 1]
2. [Difference 2]
3. [Difference 3]

---

### Example 2: [SCENARIO_NAME]

**Before (Problem):**
```[language]
# Code demonstrating the problem
[problematic code]
```

**After (Solution):**
```[language]
# Code showing the fix
[corrected code]
```

**Key Differences:**
1. [Difference 1]
2. [Difference 2]
3. [Difference 3]

---

## üõ†Ô∏è TOOLS & AUTOMATION

### Linting Rules Added

```[tool-config]
# Rule that catches this issue
[linter config]
```

### Tests Added

```[language]
# Test that prevents regression
[test code]
```

### Monitoring Added

```[monitoring-config]
# Alert configuration
[alert config]
```

---

## üìö REFERENCES

### Internal References
- **Related Constraint:** [CONS-ID]
- **Related Decision:** [DEC-ID]
- **Master Index:** `/projects/[PROJECT]/sima/nmp/NMP00/`

### External References
- **Issue Tracker:** [Link to ticket]
- **Pull Request:** [Link to PR]
- **Discussion:** [Link to design doc or discussion]
- **Documentation:** [Link to updated docs]

### Additional Reading
- [Resource 1]: [URL]
- [Resource 2]: [URL]

---

## ü§ù CONTRIBUTORS

**Experienced By:** [Names of people who encountered this]

**Investigated By:** [Names of people who debugged this]

**Fixed By:** [Names of people who implemented solution]

**Documented By:** [Name]

**Reviewed By:** [Name]  
**Review Date:** [YYYY-MM-DD]

---

## üìù CHANGE LOG

### [X.Y.Z] - YYYY-MM-DD
**Update:** [What was updated]  
**Reason:** [Why - new information, better understanding, etc.]  
**Impact:** [How this changes understanding]

### [X.Y.Z] - YYYY-MM-DD
**Update:** [What was updated]  
**Reason:** [Why]  
**Impact:** [How this changes understanding]

---

## üîê VERIFICATION

**Last Verified:** [YYYY-MM-DD]

**Verification Checklist:**
- ‚òë Story is complete and accurate
- ‚òë Cost is documented with metrics
- ‚òë Solution is tested and validated
- ‚òë Prevention measures are in place
- ‚òë Related entries are cross-referenced
- ‚òë Code examples are working

**Verification Method:**
[How the accuracy of this lesson was confirmed]

---

## üí¨ TEAM NOTES

**Discussion Points:**
- [Point raised during team review]
- [Point raised during team review]

**Alternative Viewpoints:**
- [Different perspective on the lesson]

**Future Considerations:**
- [Something to watch for]
- [Something to improve]

---

**END OF LESSON ENTRY**

**REF-ID:** [PROJECT]-LESS-[NN]  
**Template Version:** 1.0.0  
**Entry Type:** Lesson  
**Status:** [Active/Archived]  
**Lessons like this are living documents** - Update when new information emerges
